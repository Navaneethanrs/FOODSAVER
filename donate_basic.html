<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Donate Food - Food Saver</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { background: linear-gradient(135deg, #ff6347, #ff7f50); min-height: 100vh; }
        .form-container { background: white; border-radius: 20px; padding: 40px; margin: 50px auto; max-width: 600px; box-shadow: 0 10px 30px rgba(0,0,0,0.2); }
        .btn-donate { background: linear-gradient(90deg, #ff6347, #ffd700); border: none; color: white; font-weight: 600; border-radius: 50px; padding: 12px 30px; }
    </style>
</head>
<body>
    <div class="container">
        <div class="form-container">
            <h2 class="text-center mb-4">üçΩÔ∏è Donate Food</h2>
            
            <form action="basic_save.php" method="POST">
                <div class="mb-3">
                    <label class="form-label">Your Name</label>
                    <input type="text" class="form-control" name="donor_name" required>
                </div>
                
                <div class="mb-3">
                    <label class="form-label">Food Type</label>
                    <input type="text" class="form-control" name="food_type" placeholder="e.g. Rice, Curry" required>
                </div>
                
                <div class="mb-3">
                    <label class="form-label">Quantity</label>
                    <input type="text" class="form-control" name="quantity" placeholder="e.g. 20 plates" required>
                </div>
                
                <div class="mb-3">
                    <label class="form-label">Location</label>
                    <button type="button" class="btn btn-outline-primary w-100" onclick="selectLocation()">üìç Select Location on Map</button>
                    <input type="hidden" name="location" id="selectedLocation" required>
                    <small id="locationDisplay" class="text-muted"></small>
                </div>
                
                <div class="mb-3">
                    <label class="form-label">Contact Number</label>
                    <input type="tel" class="form-control" name="donor_contact" required>
                </div>
                
                <div class="mb-3">
                    <label class="form-label">Pickup Time</label>
                    <select class="form-control" name="pickup_time" required>
                        <option value="">Select time</option>
                        <option value="morning">Morning (8 AM - 12 PM)</option>
                        <option value="afternoon">Afternoon (12 PM - 4 PM)</option>
                        <option value="evening">Evening (4 PM - 8 PM)</option>
                        <option value="anytime">Anytime</option>
                    </select>
                </div>
                
                <button type="submit" class="btn btn-donate w-100">Donate Now</button>
            </form>
        </div>
    </div>
    <script>
        function selectLocation() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(function(position) {
                    const lat = position.coords.latitude;
                    const lng = position.coords.longitude;
                    const location = `${lat},${lng}`;
                    
                    document.getElementById('selectedLocation').value = location;
                    document.getElementById('locationDisplay').textContent = `Location selected: ${lat.toFixed(6)}, ${lng.toFixed(6)}`;
                    
                    // Open Google Maps with the location
                    window.open(`https://maps.google.com/?q=${lat},${lng}`, '_blank');
                }, function() {
                    // Fallback: Open Google Maps for manual selection
                    window.open('https://maps.google.com/', '_blank');
                    alert('Please select your location on the map and copy the coordinates back to the form.');
                });
            } else {
                window.open('https://maps.google.com/', '_blank');
                alert('Please select your location on the map and copy the coordinates back to the form.');
            }
        }
    </script>
</body>
</html>